# MTP (Media Transfer Protocol) configuration for TWRP recovery
# This file handles MTP service for file transfer in recovery mode

on init
    # Create MTP directories
    mkdir /mnt/media_rw 0700 media_rw media_rw
    mkdir /storage 0751 root sdcard_r
    
    # Create MTP device nodes if they don't exist
    mknod /dev/mtp_usb c 180 0
    chmod 0666 /dev/mtp_usb
    chown root root /dev/mtp_usb
    
    # Create additional USB device nodes
    mknod /dev/usb_accessory c 10 61
    chmod 0660 /dev/usb_accessory
    chown root usb /dev/usb_accessory
    
    # Set up storage directories for MTP
    mkdir -p /storage/emulated 0755 root root
    mkdir -p /storage/self 0755 root root

# TWRP handles MTP internally - no external service needed
# MTP is controlled directly by TWRP UI